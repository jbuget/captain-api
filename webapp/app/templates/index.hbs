<header class="app-header">
  <span class="app-brand">Granny</span>
  <div class="app-actions">
    <button class="app-action" {{action (mut isShowingSettingsModal) true}} title="Configure environment variables">{{fa-icon "cog"}}</button>
    {{#link-to "disconnection" class="app-action" title="Disconnect"}}{{fa-icon "power-off"}}{{/link-to}}
  </div>
</header>

<div class="app-body">
  <main class="app-main">

    <ResourceExplorer
        @resources={{model}}
        @selectedResource={{selectedResource}}
        @onSelectResource={{action "selectResource"}}
        @onSaveResource={{action "createResource"}}
        @onImportResources={{action "importResources"}}
        @onReloadResources={{action "reloadResources"}}/>

    {{#if this.command}}
      <CommandEditor
          @command={{this.command}}
          @onSendRequest={{action "executeCommand"}}
          @onCancelCommand={{action "cancelCommand"}}
          @onSaveRequest={{action "updateResourceRequest"}}/>
    {{else}}
      <p>Please, select a resource</p>
    {{/if}}

    {{#if isShowingSettingsModal}}
      <SettingsModal
          @onClose={{action (mut isShowingSettingsModal) false}}
          @onSave={{action (mut isShowingSettingsModal) false}}/>
    {{/if}}

  </main>

</div>

<footer class="app-footer">
  <div>
    <a href="https://github.com/jbuget/granny">{{fa-icon "github" prefix="fab"}}</a>
  </div>
</footer>
